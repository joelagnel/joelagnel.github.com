<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0171)http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commitdiff;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;hp=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"><!-- git web interface version 1.7.3.GIT, (C) 2005-2006, Kay Sievers <kay.sievers@vrfy.org>, Christian Gierke --><!-- git core binaries version 1.7.3.4 --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="gitweb/1.7.3.GIT git/1.7.3.4">
<meta name="robots" content="index, nofollow">
<title>git.kernel.org - linux/kernel/git/linville/wireless-testing.git/commitdiff</title>
<link rel="stylesheet" type="text/css" href="gitweb.css">
<link rel="alternate" title="linux/kernel/git/linville/wireless-testing.git - log - RSS feed" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=rss" type="application/rss+xml">
<link rel="alternate" title="linux/kernel/git/linville/wireless-testing.git - log - RSS feed (no merges)" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=rss;opt=--no-merges" type="application/rss+xml">
<link rel="alternate" title="linux/kernel/git/linville/wireless-testing.git - log - Atom feed" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=atom;opt=--no-merges" type="application/atom+xml">
<link rel="alternate" title="linux/kernel/git/linville/wireless-testing.git - log - Atom feed (no merges)" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=atom;opt=--no-merges" type="application/atom+xml">
<link rel="shortcut icon" href="http://git.kernel.org/git-favicon.png" type="image/png">
</head>
<body>
<div class="page_header">
<a title="git homepage" href="http://git-scm.com/"><img src="git-logo.png" width="72" height="27" alt="git" class="logo"></a><a href="http://git.kernel.org/">/pub/scm</a> / <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=summary">linux/kernel/git/linville/wireless-testing.git</a> / commitdiff
</div>
<form method="get" action="http://git.kernel.org/" enctype="application/x-www-form-urlencoded">
<div class="search">
<input name="p" type="hidden" value="linux/kernel/git/linville/wireless-testing.git">
<input name="a" type="hidden" value="search">
<input name="h" type="hidden" value="f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">
<select name="st">
<option selected="selected" value="commit">commit</option>
<option value="grep">grep</option>
<option value="author">author</option>
<option value="committer">committer</option>
<option value="pickaxe">pickaxe</option>
</select><sup><a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=search_help">?</a></sup> search:
<input type="text" name="s">
<span title="Extended regular expression"><label><input type="checkbox" name="sr" value="1">re</label></span></div>
</form>
<div class="page_nav">
<a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=summary">summary</a> | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=shortlog;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">shortlog</a> | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=log;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">log</a> | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commit;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">commit</a> | commitdiff | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=tree;h=8ff2b50bb0e57611f5d37fe6abaef75f9fcd34a6;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">tree</a><br>
<a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commitdiff_plain;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;hp=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4">raw</a> | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=patch;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;hp=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4">patch</a> (from parent 1: <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commitdiff;h=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4">1c30cc1</a>)<br>
</div>
<div class="header">
<a class="title" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commit;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">mac80211: Fix mesh portal communication with other mesh nodes.</a>
</div>
<div class="title_text">
<table class="object_header">
<tbody><tr><td>author</td><td><a title="Search for commits authored by Joel A Fernandes" class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=search;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;s=Joel+A+Fernandes;st=author">Joel A Fernandes</a> <a title="Search for commits authored by agnel.joel@gmail.com" class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=search;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;s=agnel.joel@gmail.com;st=author">&lt;agnel.joel@gmail.com&gt;</a></td><td rowspan="2"></td></tr>
<tr><td></td><td> Wed, 29 Dec 2010 01:28:11 +0000 (19:28 -0600)</td></tr>
<tr><td>committer</td><td><a title="Search for commits committed by John W. Linville" class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=search;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;s=John+W.+Linville;st=committer">John W. Linville</a> <a title="Search for commits committed by linville@tuxdriver.com" class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=search;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;s=linville@tuxdriver.com;st=committer">&lt;linville@tuxdriver.com&gt;</a></td><td rowspan="2"></td></tr>
<tr><td></td><td> Tue, 4 Jan 2011 19:43:01 +0000 (14:43 -0500)</td></tr>
</tbody></table></div>
<div class="page_body">
<div class="log">
Fixed&nbsp;a&nbsp;bug&nbsp;where&nbsp;if&nbsp;a&nbsp;mesh&nbsp;interface&nbsp;has&nbsp;a&nbsp;different&nbsp;MAC&nbsp;address&nbsp;from&nbsp;its&nbsp;bridge<br>
interface,&nbsp;then&nbsp;it&nbsp;would&nbsp;not&nbsp;be&nbsp;able&nbsp;to&nbsp;send&nbsp;data&nbsp;traffic&nbsp;to&nbsp;any&nbsp;other&nbsp;mesh&nbsp;node.<br>
This&nbsp;also&nbsp;adds&nbsp;support&nbsp;for&nbsp;communication&nbsp;between&nbsp;mesh&nbsp;nodes&nbsp;and&nbsp;external&nbsp;bridged<br>
nodes&nbsp;by&nbsp;using&nbsp;a&nbsp;6&nbsp;address&nbsp;format&nbsp;if&nbsp;the&nbsp;source&nbsp;is&nbsp;a&nbsp;node&nbsp;within&nbsp;the&nbsp;mesh&nbsp;and&nbsp;the<br>
destination&nbsp;is&nbsp;an&nbsp;external&nbsp;node&nbsp;proxied&nbsp;by&nbsp;a&nbsp;mesh&nbsp;portal.<br>
<br>
<span class="signoff">Signed-off-by: Joel A Fernandes &lt;agnel.joel@gmail.com&gt;</span><br>
<span class="signoff">Signed-off-by: John W. Linville &lt;linville@tuxdriver.com&gt;</span><br>
<br>
</div>
<div class="list_head">
</div>
<table class="diff_tree">
<tbody><tr class="dark">
<td><a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">net/mac80211/tx.c</a></td>
<td></td>
<td class="link"><a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commitdiff;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;hp=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4#patch1">patch</a> | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">blob</a> | <a href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=history;f=net/mac80211/tx.c;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">history</a></td>
</tr>
</tbody></table>
<br>
<div class="patchset">
<div class="patch" id="patch1">
<div class="diff header">diff --git <a class="path" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=d2b4b67a7b53d425e2767185f22a78dbd34c78a2;hb=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4">a/net/mac80211/tx.c</a> <a class="path" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">b/net/mac80211/tx.c</a></div>
<div class="diff extended_header">
index <a class="hash" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=d2b4b67a7b53d425e2767185f22a78dbd34c78a2;hb=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4">d2b4b67</a>..<a class="hash" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">11d0135</a> 100644<span class="info"> (file)</span><br>
</div>
<div class="diff from_file">--- a/<a class="path" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=d2b4b67a7b53d425e2767185f22a78dbd34c78a2;hb=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4">net/mac80211/tx.c</a></div>
<div class="diff to_file">+++ b/<a class="path" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b">net/mac80211/tx.c</a></div>
<div class="diff chunk_header"><span class="chunk_info">@@ <a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=d2b4b67a7b53d425e2767185f22a78dbd34c78a2;hb=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4#l1747">-1747,6</a> <a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b#l1747">+1747,7</a> @@</span><span class="section">&nbsp;netdev_tx_t&nbsp;ieee80211_subif_start_xmit(struct&nbsp;sk_buff&nbsp;*skb,</span></div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__le16&nbsp;fc;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;ieee80211_hdr&nbsp;hdr;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;ieee80211s_hdr&nbsp;mesh_hdr&nbsp;__maybe_unused;</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;mesh_path&nbsp;*mppath&nbsp;=&nbsp;NULL;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;u8&nbsp;*encaps_data;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;encaps_len,&nbsp;skip_header_bytes;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;nh_pos,&nbsp;h_pos;</div>
<div class="diff chunk_header"><span class="chunk_info">@@ <a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=d2b4b67a7b53d425e2767185f22a78dbd34c78a2;hb=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4#l1807">-1807,16</a> <a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b#l1808">+1808,23</a> @@</span><span class="section">&nbsp;netdev_tx_t&nbsp;ieee80211_subif_start_xmit(struct&nbsp;sk_buff&nbsp;*skb,</span></div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret&nbsp;=&nbsp;NETDEV_TX_OK;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goto&nbsp;fail;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!is_multicast_ether_addr(skb-&gt;data))</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mppath&nbsp;=&nbsp;mpp_path_lookup(skb-&gt;data,&nbsp;sdata);</div>
<div class="diff">&nbsp;</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;not&nbsp;use&nbsp;address&nbsp;extension,&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;packet&nbsp;from</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;same&nbsp;interface&nbsp;and&nbsp;the&nbsp;destination&nbsp;is&nbsp;not&nbsp;being</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;proxied&nbsp;by&nbsp;any&nbsp;other&nbsp;mest&nbsp;point.</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(compare_ether_addr(sdata-&gt;vif.addr,</div>
<div class="diff rem">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skb-&gt;data&nbsp;+&nbsp;ETH_ALEN)&nbsp;==&nbsp;0)&nbsp;{</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skb-&gt;data&nbsp;+&nbsp;ETH_ALEN)&nbsp;==&nbsp;0&nbsp;&amp;&amp;</div>
<div class="diff add">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(!mppath&nbsp;||&nbsp;!compare_ether_addr(mppath-&gt;mpp,&nbsp;skb-&gt;data)))&nbsp;{</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hdrlen&nbsp;=&nbsp;ieee80211_fill_mesh_addresses(&amp;hdr,&nbsp;&amp;fc,</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skb-&gt;data,&nbsp;skb-&gt;data&nbsp;+&nbsp;ETH_ALEN);</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meshhdrlen&nbsp;=&nbsp;ieee80211_new_mesh_header(&amp;mesh_hdr,</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sdata,&nbsp;NULL,&nbsp;NULL);</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;packet&nbsp;from&nbsp;other&nbsp;interface&nbsp;*/</div>
<div class="diff rem">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;mesh_path&nbsp;*mppath;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;is_mesh_mcast&nbsp;=&nbsp;1;</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;u8&nbsp;*mesh_da;</div>
<div class="diff">&nbsp;</div>
<div class="diff chunk_header"><span class="chunk_info">@@ <a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=d2b4b67a7b53d425e2767185f22a78dbd34c78a2;hb=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4#l1827">-1827,8</a> <a class="list" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=blob;f=net/mac80211/tx.c;h=11d0135901669ec4d78c9ba05856d87d1b6ffa58;hb=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b#l1835">+1835,6</a> @@</span><span class="section">&nbsp;netdev_tx_t&nbsp;ieee80211_subif_start_xmit(struct&nbsp;sk_buff&nbsp;*skb,</span></div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;const&nbsp;u8&nbsp;bcast[ETH_ALEN]&nbsp;=</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;0xff,&nbsp;0xff,&nbsp;0xff,&nbsp;0xff,&nbsp;0xff,&nbsp;0xff&nbsp;};</div>
<div class="diff rem">-</div>
<div class="diff rem">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mppath&nbsp;=&nbsp;mpp_path_lookup(skb-&gt;data,&nbsp;sdata);</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(mppath)&nbsp;{</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;RA&nbsp;TA&nbsp;mDA&nbsp;mSA&nbsp;AE:DA&nbsp;SA&nbsp;*/</div>
<div class="diff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_da&nbsp;=&nbsp;mppath-&gt;mpp;</div>
</div>
</div>
</div>
<div class="page_footer">
<div class="cachetime">Cache Last Updated: Wed Jan  5 04:54:59 2011 GMT</div>
<!--
	Full URL: |http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=commitdiff;h=f76b57b47e5fd423f9827c7b0ba7bbd06cca6b9b;hp=1c30cc19081c16b1fe73ac13f2cb2abc009cdcc4|
	URL Hash: |9849e43cda2206025c3837359621c2a0|
-->
<div class="page_footer_text">On-going wireless integration tree</div>
<a class="rss_logo" title="log RSS feed" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=rss">RSS</a>
<a class="rss_logo" title="log Atom feed" href="http://git.kernel.org/?p=linux/kernel/git/linville/wireless-testing.git;a=atom">Atom</a>
</div>
<script type="text/javascript" src="gitweb.js"></script>

</body></html>